{"ast":null,"code":"var _jsxFileName = \"/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/src/pages/ProfileEdit.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\n// import PropyTypes from 'prop-types';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport { getUser, updateUser } from '../services/userAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass ProfileEdit extends React.Component {\n  constructor() {\n    super();\n    this.handleChange = _ref => {\n      let {\n        target\n      } = _ref;\n      this.setState({\n        [target.name]: target.value\n      }, () => this.FormValidate(this.state));\n    };\n    this.FormValidate = response => {\n      const {\n        Description,\n        Email,\n        Imagem,\n        Name\n      } = response;\n      const Min = 3;\n      const DescriptionTest = Description.length > Min;\n      const EmailTest = Email.length > Min;\n      const ImagemTest = Imagem.length > Min;\n      const NameTest = Name.length > Min;\n      const validations = DescriptionTest && EmailTest && ImagemTest && NameTest;\n      this.setState({\n        ButtonDisable: !validations\n      });\n    };\n    this.handleSubmit = async event => {\n      event.preventDefault();\n      const {\n        Description,\n        Email,\n        Imagem,\n        Name\n      } = this.state;\n      const {\n        history\n      } = this.props;\n      const response = {\n        description: Description,\n        email: Email,\n        image: Imagem,\n        name: Name\n      };\n      await updateUser(response);\n      history.push('/profile');\n    };\n    this.state = {\n      Name: '',\n      Email: '',\n      Description: '',\n      Imagem: '',\n      isLoading: false,\n      ButtonDisable: true\n    };\n  }\n  async componentDidMount() {\n    this.setState({\n      isLoading: true\n    });\n    const response = await getUser();\n    this.setState({\n      Name: response.name,\n      Email: response.email,\n      Description: response.description,\n      Imagem: response.image,\n      isLoading: false,\n      ButtonDisable: false\n    });\n  }\n  render() {\n    const {\n      Description,\n      Email,\n      Imagem,\n      Name,\n      isLoading,\n      ButtonDisable\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), isLoading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 22\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        \"data-testid\": \"page-profile-edit\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: /*#__PURE__*/_jsxDEV(\"section\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Nome:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"Name\",\n                id: \"profile-edit-input-name\",\n                type: \"text\",\n                value: Name,\n                onChange: this.handleChange,\n                \"data-testid\": \"edit-input-name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"Email\",\n                id: \"profile-edit-input-email\",\n                type: \"text\",\n                value: Email,\n                onChange: this.handleChange,\n                \"data-testid\": \"edit-input-email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Descri\\xE7\\xE3o:\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n                name: \"Description\",\n                id: \"profile-edit-input-description\",\n                type: \"text\",\n                value: Description,\n                onChange: this.handleChange,\n                \"data-testid\": \"edit-input-description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Foto:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"Imagem\",\n                id: \"profile-edit-input-image\",\n                type: \"text\",\n                value: Imagem,\n                onChange: this.handleChange,\n                \"data-testid\": \"edit-input-image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              disabled: ButtonDisable,\n              \"data-testid\": \"edit-button-save\",\n              type: \"submit\",\n              onClick: this.handleSubmit,\n              children: \"Editar perfil\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this);\n  }\n}\nProfileEdit.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func\n  }).isRequired\n};\nexport default ProfileEdit;","map":{"version":3,"names":["React","PropTypes","Header","Loading","getUser","updateUser","ProfileEdit","Component","constructor","handleChange","target","setState","name","value","FormValidate","state","response","Description","Email","Imagem","Name","Min","DescriptionTest","length","EmailTest","ImagemTest","NameTest","validations","ButtonDisable","handleSubmit","event","preventDefault","history","props","description","email","image","push","isLoading","componentDidMount","render","propTypes","shape","func","isRequired"],"sources":["/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/src/pages/ProfileEdit.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n// import PropyTypes from 'prop-types';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport { getUser, updateUser } from '../services/userAPI';\n\nclass ProfileEdit extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      Name: '',\n      Email: '',\n      Description: '',\n      Imagem: '',\n      isLoading: false,\n      ButtonDisable: true,\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({ isLoading: true });\n    const response = await getUser();\n\n    this.setState({\n      Name: response.name,\n      Email: response.email,\n      Description: response.description,\n      Imagem: response.image,\n      isLoading: false,\n      ButtonDisable: false });\n  }\n\n  handleChange = ({ target }) => {\n    this.setState({\n      [target.name]: target.value,\n    }, () => this.FormValidate(this.state));\n  };\n\n  FormValidate = (response) => {\n    const { Description, Email, Imagem, Name } = response;\n\n    const Min = 3;\n\n    const DescriptionTest = Description.length > Min;\n    const EmailTest = Email.length > Min;\n    const ImagemTest = Imagem.length > Min;\n    const NameTest = Name.length > Min;\n\n    const validations = DescriptionTest && EmailTest && ImagemTest && NameTest;\n\n    this.setState({ ButtonDisable: !validations });\n  };\n\n  handleSubmit = async (event) => {\n    event.preventDefault();\n    const { Description, Email, Imagem, Name } = this.state;\n    const { history } = this.props;\n    const response = { description: Description,\n      email: Email,\n      image: Imagem,\n      name: Name };\n    await updateUser(response);\n    history.push('/profile');\n  };\n\n  render() {\n    const {\n      Description,\n      Email,\n      Imagem,\n      Name,\n      isLoading,\n      ButtonDisable,\n    } = this.state;\n    return (\n      <section>\n        <Header />\n        {isLoading ? <Loading /> : (\n          <div data-testid=\"page-profile-edit\">\n            <form>\n            <section>\n              <label>\n                Nome:\n                <input\n                  name=\"Name\"\n                  id=\"profile-edit-input-name\"\n                  type=\"text\"\n                  value={ Name }\n                  onChange={ this.handleChange }\n                  data-testid=\"edit-input-name\"\n                />\n              </label>\n              <label>\n                Email:\n                <input\n                  name=\"Email\"\n                  id=\"profile-edit-input-email\"\n                  type=\"text\"\n                  value={ Email }\n                  onChange={ this.handleChange }\n                  data-testid=\"edit-input-email\"\n                />\n              </label>\n              <label>\n                Descrição:\n                <textarea\n                  name=\"Description\"\n                  id=\"profile-edit-input-description\"\n                  type=\"text\"\n                  value={ Description }\n                  onChange={ this.handleChange }\n                  data-testid=\"edit-input-description\"\n                />\n              </label>\n              <label>\n                Foto:\n                <input\n                  name=\"Imagem\"\n                  id=\"profile-edit-input-image\"\n                  type=\"text\"\n                  value={ Imagem }\n                  onChange={ this.handleChange }\n                  data-testid=\"edit-input-image\"\n                />\n              </label>\n              <button\n                disabled={ ButtonDisable }\n                data-testid=\"edit-button-save\"\n                type=\"submit\"\n                onClick={ this.handleSubmit }\n              >\n                Editar perfil\n\n              </button>\n              </section>\n            </form>\n          </div>)}\n      </section>\n    );\n  }\n}\n\nProfileEdit.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n};\n\nexport default ProfileEdit;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
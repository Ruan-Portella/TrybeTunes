{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{Link}from'react-router-dom';import Header from'../components/Header';import LoadingLogin from'../components/LoadingLogin';import searchAlbumsAPI from'../services/searchAlbumsAPI';import'../style/Search.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Search=/*#__PURE__*/function(_React$Component){_inherits(Search,_React$Component);var _super=_createSuper(Search);function Search(){var _this;_classCallCheck(this,Search);_this=_super.call(this);_this.handleChange=function(_ref){var target=_ref.target;var min=2;_this.setState(_defineProperty({},target.name,target.value));if(target.value.length>=min){_this.setState({DisableButton:false});}else{_this.setState({DisableButton:true});}};_this.SearchAlbum=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var InputName,namemusic,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:InputName=_this.state.InputName;_this.setState({isLoading:false,InputNameSearched:InputName});namemusic=InputName;_context.next=5;return searchAlbumsAPI(namemusic);case 5:response=_context.sent;_this.setState({InputName:'',isLoading:true,album:true,albumName:response});if(response.length===0){_this.setState({array:true,album:false});}else{_this.setState({array:false});}case 8:case\"end\":return _context.stop();}},_callee);}));_this.state={InputName:'',DisableButton:true,isLoading:true,album:false,InputNameSearched:'',albumName:[],array:false};return _this;}_createClass(Search,[{key:\"render\",value:function render(){var _this$state=this.state,InputName=_this$state.InputName,DisableButton=_this$state.DisableButton,isLoading=_this$state.isLoading,album=_this$state.album,InputNameSearched=_this$state.InputNameSearched,albumName=_this$state.albumName,array=_this$state.array;return/*#__PURE__*/_jsx(\"section\",{className:\"SearchImage\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"HeaderSearchMain\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"section\",{className:\"AGORA\",children:[/*#__PURE__*/_jsx(\"section\",{className:\"TODOS\",children:/*#__PURE__*/_jsx(\"section\",{\"data-testid\":\"page-search\",className:\"SearchContentMainALbum\",children:/*#__PURE__*/_jsx(\"section\",{className:\"SearchMainAlbumContent\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{\"data-testid\":\"search-artist-input\",type:\"text\",name:\"InputName\",className:\"SearchInput\",value:InputName,placeholder:\"Digite a Sua Pesquisa\",onChange:this.handleChange}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"SearchButton\",\"data-testid\":\"search-artist-button\",disabled:DisableButton,onClick:this.SearchAlbum,children:\"Pesquisar\"})]})})})}),!isLoading?/*#__PURE__*/_jsx(LoadingLogin,{}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"section\",{className:\"SearchedAlbum\",children:[album&&/*#__PURE__*/_jsx(\"section\",{className:\"AlbumName\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Resultado de \\xE1lbuns de: \".concat(InputNameSearched.toUpperCase())})}),array&&/*#__PURE__*/_jsx(\"section\",{className:\"AlbumName\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Nenhum \\xE1lbum foi encontrado\"})}),/*#__PURE__*/_jsx(\"section\",{className:\"AlbumContent\",children:/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsx(\"section\",{className:\"LiAlgumContent\",children:albumName.map(function(albuns){return/*#__PURE__*/_jsx(\"section\",{className:\"LiContent\",children:/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(Link,{\"data-testid\":\"link-to-album-\".concat(albuns.collectionId),to:\"/album/\".concat(albuns.collectionId),children:/*#__PURE__*/_jsx(\"img\",{className:\"ImageAlbum\",src:albuns.artworkUrl100,alt:albuns.collectionName})}),/*#__PURE__*/_jsxs(\"section\",{className:\"AlbumSearchContentMain\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"NameAlbumSearch\",children:albuns.collectionName}),/*#__PURE__*/_jsx(\"p\",{className:\"NameAlbumSearch\",children:albuns.artistName})]})]},albuns.collectionId)});})})})})]})})]})]})});}}]);return Search;}(React.Component);export default Search;","map":{"version":3,"names":["React","Link","Header","LoadingLogin","searchAlbumsAPI","Search","handleChange","target","min","setState","name","value","length","DisableButton","SearchAlbum","InputName","state","isLoading","InputNameSearched","namemusic","response","album","albumName","array","toUpperCase","map","albuns","collectionId","artworkUrl100","collectionName","artistName","Component"],"sources":["/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/src/pages/Search.js"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../components/Header';\nimport LoadingLogin from '../components/LoadingLogin';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport '../style/Search.css'\n\nclass Search extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      InputName: '',\n      DisableButton: true,\n      isLoading: true,\n      album: false,\n      InputNameSearched: '',\n      albumName: [],\n      array: false,\n    };\n  }\n\n  handleChange = ({ target }) => {\n    const min = 2;\n    this.setState({ [target.name]: target.value });\n    if (target.value.length >= min) {\n      this.setState({ DisableButton: false });\n    } else {\n      this.setState({ DisableButton: true });\n    }\n  };\n\n  SearchAlbum = async () => {\n    const { InputName } = this.state;\n    this.setState({ isLoading: false, InputNameSearched: InputName });\n    const namemusic = InputName;\n    const response = await searchAlbumsAPI(namemusic);\n    this.setState({ InputName: '', isLoading: true, album: true, albumName: response });\n    if (response.length === 0) {\n      this.setState({ array: true, album: false });\n    } else {\n      this.setState({ array: false });\n    }\n  };\n\n  render() {\n    const { InputName, DisableButton, isLoading, album,\n      InputNameSearched, albumName, array } = this.state;\n    return (\n      \n    <section className='SearchImage'>\n      <section className='HeaderSearchMain'>\n      <Header />\n    <section className='AGORA'>\n      <section className='TODOS'>\n        <section data-testid=\"page-search\" className='SearchContentMainALbum'>\n            <section className='SearchMainAlbumContent'>\n              <label>\n                <input\n                  data-testid=\"search-artist-input\"\n                  type=\"text\"\n                  name=\"InputName\"\n                  className='SearchInput'\n                  value={ InputName }\n                  placeholder='Digite a Sua Pesquisa'\n                  onChange={ this.handleChange }\n                />\n                <button\n                  type=\"button\"\n                  className='SearchButton'\n                  data-testid=\"search-artist-button\"\n                  disabled={ DisableButton }\n                  onClick={ this.SearchAlbum }\n                >\n                  Pesquisar\n\n                </button>\n              </label>\n              </section>\n        </section>\n        </section>\n        {\n        !isLoading ? <LoadingLogin /> : (\n       <>\n        <section className='SearchedAlbum'>\n        {\n          album && (\n            <section className='AlbumName'>\n            <p>{`Resultado de álbuns de: ${InputNameSearched.toUpperCase()}`}</p>\n            </section>)\n        }\n        {\n          \n          array && (\n          <section className='AlbumName'>\n            <p>Nenhum álbum foi encontrado</p>\n          </section>)\n        }\n        {\n        }\n        <section className='AlbumContent'>\n        <ul>\n          <section className='LiAlgumContent'>\n          {albumName.map((albuns) => (\n            <section className='LiContent'>\n            <li key={ albuns.collectionId }>\n              <Link\n                data-testid={ `link-to-album-${albuns.collectionId}` }\n                to={ `/album/${albuns.collectionId}` }\n              >\n                <img className='ImageAlbum'src={albuns.artworkUrl100} alt={albuns.collectionName}></img>\n              </Link>\n              <section className='AlbumSearchContentMain'>\n              <p className='NameAlbumSearch'>{albuns.collectionName}</p>\n              <p className='NameAlbumSearch'>{albuns.artistName}</p>\n              </section>\n            </li>\n            </section>\n          ))}\n          </section>\n        </ul>\n        </section>\n        </section>\n        </>    )\n      }\n        </section>\n      </section>\n      </section>\n    );\n  }\n}\n\nexport default Search;\n"],"mappings":"8gCAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAOC,OAAM,KAAM,sBAAsB,CACzC,MAAOC,aAAY,KAAM,4BAA4B,CACrD,MAAOC,gBAAe,KAAM,6BAA6B,CACzD,MAAO,qBAAqB,iJAEtBC,OAAM,4GACV,iBAAc,wCACZ,wBAAQ,MAaVC,YAAY,CAAG,cAAgB,IAAbC,OAAM,MAANA,MAAM,CACtB,GAAMC,IAAG,CAAG,CAAC,CACb,MAAKC,QAAQ,oBAAIF,MAAM,CAACG,IAAI,CAAGH,MAAM,CAACI,KAAK,EAAG,CAC9C,GAAIJ,MAAM,CAACI,KAAK,CAACC,MAAM,EAAIJ,GAAG,CAAE,CAC9B,MAAKC,QAAQ,CAAC,CAAEI,aAAa,CAAE,KAAM,CAAC,CAAC,CACzC,CAAC,IAAM,CACL,MAAKJ,QAAQ,CAAC,CAAEI,aAAa,CAAE,IAAK,CAAC,CAAC,CACxC,CACF,CAAC,OAEDC,WAAW,wEAAG,qKACJC,SAAS,CAAK,MAAKC,KAAK,CAAxBD,SAAS,CACjB,MAAKN,QAAQ,CAAC,CAAEQ,SAAS,CAAE,KAAK,CAAEC,iBAAiB,CAAEH,SAAU,CAAC,CAAC,CAC3DI,SAAS,CAAGJ,SAAS,uBACJX,gBAAe,CAACe,SAAS,CAAC,QAA3CC,QAAQ,eACd,MAAKX,QAAQ,CAAC,CAAEM,SAAS,CAAE,EAAE,CAAEE,SAAS,CAAE,IAAI,CAAEI,KAAK,CAAE,IAAI,CAAEC,SAAS,CAAEF,QAAS,CAAC,CAAC,CACnF,GAAIA,QAAQ,CAACR,MAAM,GAAK,CAAC,CAAE,CACzB,MAAKH,QAAQ,CAAC,CAAEc,KAAK,CAAE,IAAI,CAAEF,KAAK,CAAE,KAAM,CAAC,CAAC,CAC9C,CAAC,IAAM,CACL,MAAKZ,QAAQ,CAAC,CAAEc,KAAK,CAAE,KAAM,CAAC,CAAC,CACjC,CAAC,qDACF,GAhCC,MAAKP,KAAK,CAAG,CACXD,SAAS,CAAE,EAAE,CACbF,aAAa,CAAE,IAAI,CACnBI,SAAS,CAAE,IAAI,CACfI,KAAK,CAAE,KAAK,CACZH,iBAAiB,CAAE,EAAE,CACrBI,SAAS,CAAE,EAAE,CACbC,KAAK,CAAE,KACT,CAAC,CAAC,aACJ,CAAC,yCAyBD,iBAAS,CACP,gBAC0C,IAAI,CAACP,KAAK,CAD5CD,SAAS,aAATA,SAAS,CAAEF,aAAa,aAAbA,aAAa,CAAEI,SAAS,aAATA,SAAS,CAAEI,KAAK,aAALA,KAAK,CAChDH,iBAAiB,aAAjBA,iBAAiB,CAAEI,SAAS,aAATA,SAAS,CAAEC,KAAK,aAALA,KAAK,CACrC,mBAEA,gBAAS,SAAS,CAAC,aAAa,uBAC9B,iBAAS,SAAS,CAAC,kBAAkB,wBACrC,KAAC,MAAM,IAAG,cACZ,iBAAS,SAAS,CAAC,OAAO,wBACxB,gBAAS,SAAS,CAAC,OAAO,uBACxB,gBAAS,cAAY,aAAa,CAAC,SAAS,CAAC,wBAAwB,uBACjE,gBAAS,SAAS,CAAC,wBAAwB,uBACzC,sCACE,cACE,cAAY,qBAAqB,CACjC,IAAI,CAAC,MAAM,CACX,IAAI,CAAC,WAAW,CAChB,SAAS,CAAC,aAAa,CACvB,KAAK,CAAGR,SAAW,CACnB,WAAW,CAAC,uBAAuB,CACnC,QAAQ,CAAG,IAAI,CAACT,YAAc,EAC9B,cACF,eACE,IAAI,CAAC,QAAQ,CACb,SAAS,CAAC,cAAc,CACxB,cAAY,sBAAsB,CAClC,QAAQ,CAAGO,aAAe,CAC1B,OAAO,CAAG,IAAI,CAACC,WAAa,UAC7B,WAGD,EAAS,GACH,EACE,EACN,EACA,CAEV,CAACG,SAAS,cAAG,KAAC,YAAY,IAAG,cAC9B,sCACC,iBAAS,SAAS,CAAC,eAAe,WAEhCI,KAAK,eACH,gBAAS,SAAS,CAAC,WAAW,uBAC9B,wDAA+BH,iBAAiB,CAACM,WAAW,EAAE,GAAO,EAC1D,CAIbD,KAAK,eACL,gBAAS,SAAS,CAAC,WAAW,uBAC5B,mBAAG,gCAA2B,EAAI,EACzB,cAIb,gBAAS,SAAS,CAAC,cAAc,uBACjC,iCACE,gBAAS,SAAS,CAAC,gBAAgB,UAClCD,SAAS,CAACG,GAAG,CAAC,SAACC,MAAM,qBACpB,gBAAS,SAAS,CAAC,WAAW,uBAC9B,mCACE,KAAC,IAAI,EACH,sCAA+BA,MAAM,CAACC,YAAY,CAAI,CACtD,EAAE,kBAAaD,MAAM,CAACC,YAAY,CAAI,uBAEtC,YAAK,SAAS,CAAC,YAAY,IAAG,CAAED,MAAM,CAACE,aAAc,CAAC,GAAG,CAAEF,MAAM,CAACG,cAAe,EAAO,EACnF,cACP,iBAAS,SAAS,CAAC,wBAAwB,wBAC3C,UAAG,SAAS,CAAC,iBAAiB,UAAEH,MAAM,CAACG,cAAc,EAAK,cAC1D,UAAG,SAAS,CAAC,iBAAiB,UAAEH,MAAM,CAACI,UAAU,EAAK,GAC5C,GAVFJ,MAAM,CAACC,YAAY,CAWxB,EACK,EACX,CAAC,EACQ,EACP,EACK,GACA,EACF,GAEE,GACF,EACA,CAEd,CAAC,oBA1HkB3B,KAAK,CAAC+B,SAAS,EA6HpC,cAAe1B,OAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}
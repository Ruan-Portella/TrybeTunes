{"ast":null,"code":"import _objectSpread from\"/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";var USER_KEY='user';var TIMEOUT=1500;var SUCCESS_STATUS='OK';var readUser=function readUser(){return JSON.parse(localStorage.getItem(USER_KEY));};var saveUser=function saveUser(user){return localStorage.setItem(USER_KEY,JSON.stringify(user));};// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso mais futuramente\n// --------------------------------------------------------------------\nvar simulateRequest=function simulateRequest(response){return function(callback){setTimeout(function(){callback(response);},TIMEOUT);};};export var getUser=function getUser(){return new Promise(function(resolve){var user=readUser();if(user===null){user={};}simulateRequest(user)(resolve);});};export var createUser=function createUser(user){return new Promise(function(resolve){var emptyUser={name:'',email:'',image:'',description:''};saveUser(_objectSpread(_objectSpread({},emptyUser),user));simulateRequest(SUCCESS_STATUS)(resolve);});};export var updateUser=function updateUser(updatedUser){return new Promise(function(resolve){saveUser(_objectSpread({},updatedUser));simulateRequest(SUCCESS_STATUS)(resolve);});};","map":{"version":3,"names":["USER_KEY","TIMEOUT","SUCCESS_STATUS","readUser","JSON","parse","localStorage","getItem","saveUser","user","setItem","stringify","simulateRequest","response","callback","setTimeout","getUser","Promise","resolve","createUser","emptyUser","name","email","image","description","updateUser","updatedUser"],"sources":["/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/src/services/userAPI.js"],"sourcesContent":["const USER_KEY = 'user';\nconst TIMEOUT = 1500;\nconst SUCCESS_STATUS = 'OK';\n\nconst readUser = () => JSON.parse(localStorage.getItem(USER_KEY));\nconst saveUser = (user) => localStorage.setItem(USER_KEY, JSON.stringify(user));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso mais futuramente\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getUser = () => new Promise((resolve) => {\n  let user = readUser();\n  if (user === null) {\n    user = {};\n  }\n  simulateRequest(user)(resolve);\n});\n\nexport const createUser = (user) => new Promise((resolve) => {\n  const emptyUser = {\n    name: '',\n    email: '',\n    image: '',\n    description: '',\n  };\n  saveUser({ ...emptyUser, ...user });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const updateUser = (updatedUser) => new Promise((resolve) => {\n  saveUser({ ...updatedUser });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n"],"mappings":"mJAAA,GAAMA,SAAQ,CAAG,MAAM,CACvB,GAAMC,QAAO,CAAG,IAAI,CACpB,GAAMC,eAAc,CAAG,IAAI,CAE3B,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,SAASC,KAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAACP,QAAQ,CAAC,CAAC,GACjE,GAAMQ,SAAQ,CAAG,QAAXA,SAAQ,CAAIC,IAAI,QAAKH,aAAY,CAACI,OAAO,CAACV,QAAQ,CAAEI,IAAI,CAACO,SAAS,CAACF,IAAI,CAAC,CAAC,GAE/E;AACA;AACA;AACA;AACA;AACA;AAEA,GAAMG,gBAAe,CAAG,QAAlBA,gBAAe,CAAIC,QAAQ,QAAK,UAACC,QAAQ,CAAK,CAClDC,UAAU,CAAC,UAAM,CACfD,QAAQ,CAACD,QAAQ,CAAC,CACpB,CAAC,CAAEZ,OAAO,CAAC,CACb,CAAC,GAED,MAAO,IAAMe,QAAO,CAAG,QAAVA,QAAO,SAAS,IAAIC,QAAO,CAAC,SAACC,OAAO,CAAK,CACpD,GAAIT,KAAI,CAAGN,QAAQ,EAAE,CACrB,GAAIM,IAAI,GAAK,IAAI,CAAE,CACjBA,IAAI,CAAG,CAAC,CAAC,CACX,CACAG,eAAe,CAACH,IAAI,CAAC,CAACS,OAAO,CAAC,CAChC,CAAC,CAAC,GAEF,MAAO,IAAMC,WAAU,CAAG,QAAbA,WAAU,CAAIV,IAAI,QAAK,IAAIQ,QAAO,CAAC,SAACC,OAAO,CAAK,CAC3D,GAAME,UAAS,CAAG,CAChBC,IAAI,CAAE,EAAE,CACRC,KAAK,CAAE,EAAE,CACTC,KAAK,CAAE,EAAE,CACTC,WAAW,CAAE,EACf,CAAC,CACDhB,QAAQ,gCAAMY,SAAS,EAAKX,IAAI,EAAG,CACnCG,eAAe,CAACV,cAAc,CAAC,CAACgB,OAAO,CAAC,CAC1C,CAAC,CAAC,GAEF,MAAO,IAAMO,WAAU,CAAG,QAAbA,WAAU,CAAIC,WAAW,QAAK,IAAIT,QAAO,CAAC,SAACC,OAAO,CAAK,CAClEV,QAAQ,kBAAMkB,WAAW,EAAG,CAC5Bd,eAAe,CAACV,cAAc,CAAC,CAACgB,OAAO,CAAC,CAC1C,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';// import PropyTypes from 'prop-types';\nimport Header from'../components/Header';import LoadingLogin from'../components/LoadingLogin';import{getUser,updateUser}from'../services/userAPI';import'../style/ProfileEdit.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProfileEdit=/*#__PURE__*/function(_React$Component){_inherits(ProfileEdit,_React$Component);var _super=_createSuper(ProfileEdit);function ProfileEdit(){var _this;_classCallCheck(this,ProfileEdit);_this=_super.call(this);_this.handleChange=function(_ref){var target=_ref.target;_this.setState(_defineProperty({},target.name,target.value),function(){return _this.FormValidate(_this.state);});};_this.FormValidate=function(response){var Description=response.Description,Email=response.Email,Imagem=response.Imagem,Name=response.Name;var Min=3;var DescriptionTest=Description.length>Min;var EmailTest=Email.length>Min;var ImagemTest=Imagem.length>Min;var NameTest=Name.length>Min;var validations=DescriptionTest&&EmailTest&&ImagemTest&&NameTest;_this.setState({ButtonDisable:!validations});};_this.handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var _this$state,Description,Email,Imagem,Name,history,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_this$state=_this.state,Description=_this$state.Description,Email=_this$state.Email,Imagem=_this$state.Imagem,Name=_this$state.Name;history=_this.props.history;response={description:Description,email:Email,image:Imagem,name:Name};_context.next=6;return updateUser(response);case 6:history.push('/profile');case 7:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.state={Name:'',Email:'',Description:'',Imagem:'',isLoading:false,ButtonDisable:true};return _this;}_createClass(ProfileEdit,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:this.setState({isLoading:true});_context2.next=3;return getUser();case 3:response=_context2.sent;this.setState({Name:response.name,Email:response.email,Description:response.description,Imagem:response.image,isLoading:false,ButtonDisable:false});case 5:case\"end\":return _context2.stop();}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this$state2=this.state,Description=_this$state2.Description,Email=_this$state2.Email,Imagem=_this$state2.Imagem,Name=_this$state2.Name,isLoading=_this$state2.isLoading,ButtonDisable=_this$state2.ButtonDisable;return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(Header,{}),isLoading?/*#__PURE__*/_jsx(LoadingLogin,{}):/*#__PURE__*/_jsx(\"div\",{\"data-testid\":\"page-profile-edit\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"img\",{className:\"ImagemProfile\",\"data-testid\":\"profile-image\",src:Imagem,alt:Name}),/*#__PURE__*/_jsx(\"section\",{className:\"ProfileEditContent\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"FormProfileContent\",children:[/*#__PURE__*/_jsx(\"section\",{className:\"NameForm\",children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Nome:\",/*#__PURE__*/_jsx(\"input\",{className:\"InputName\",name:\"Name\",id:\"profile-edit-input-name\",type:\"text\",value:Name,onChange:this.handleChange,\"data-testid\":\"edit-input-name\"})]})}),/*#__PURE__*/_jsx(\"section\",{className:\"EmailForm\",children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Email:\",/*#__PURE__*/_jsx(\"input\",{className:\"InputEmail\",name:\"Email\",id:\"profile-edit-input-email\",type:\"text\",value:Email,onChange:this.handleChange,\"data-testid\":\"edit-input-email\"})]})}),/*#__PURE__*/_jsx(\"section\",{className:\"DescriptionForm\",children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Descri\\xE7\\xE3o:\",/*#__PURE__*/_jsx(\"textarea\",{maxLength:\"60\",className:\"InputDescription\",name:\"Description\",id:\"profile-edit-input-description\",type:\"text\",value:Description,onChange:this.handleChange,\"data-testid\":\"edit-input-description\"})]})}),/*#__PURE__*/_jsxs(\"section\",{className:\"FotoButton\",children:[/*#__PURE__*/_jsx(\"section\",{className:\"ImagemForm\",children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Foto:\",/*#__PURE__*/_jsx(\"input\",{className:\"InputImagem\",name:\"Imagem\",id:\"profile-edit-input-image\",type:\"text\",value:Imagem,onChange:this.handleChange,\"data-testid\":\"edit-input-image\"})]})}),/*#__PURE__*/_jsx(\"section\",{className:\"ButtonForm\",children:/*#__PURE__*/_jsx(\"button\",{className:\"InputButton\",disabled:ButtonDisable,\"data-testid\":\"edit-button-save\",type:\"submit\",onClick:this.handleSubmit,children:\"Salvar\"})})]})]})})]})})]});}}]);return ProfileEdit;}(React.Component);export default ProfileEdit;","map":{"version":3,"names":["React","Header","LoadingLogin","getUser","updateUser","ProfileEdit","handleChange","target","setState","name","value","FormValidate","state","response","Description","Email","Imagem","Name","Min","DescriptionTest","length","EmailTest","ImagemTest","NameTest","validations","ButtonDisable","handleSubmit","event","preventDefault","history","props","description","email","image","push","isLoading","Component"],"sources":["/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/src/pages/ProfileEdit.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n// import PropyTypes from 'prop-types';\nimport Header from '../components/Header';\nimport LoadingLogin from '../components/LoadingLogin';\nimport { getUser, updateUser } from '../services/userAPI';\nimport '../style/ProfileEdit.css'\n\nclass ProfileEdit extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      Name: '',\n      Email: '',\n      Description: '',\n      Imagem: '',\n      isLoading: false,\n      ButtonDisable: true,\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({ isLoading: true });\n    const response = await getUser();\n\n    this.setState({\n      Name: response.name,\n      Email: response.email,\n      Description: response.description,\n      Imagem: response.image,\n      isLoading: false,\n      ButtonDisable: false });\n  }\n\n  handleChange = ({ target }) => {\n    this.setState({\n      [target.name]: target.value,\n    }, () => this.FormValidate(this.state));\n  };\n\n  FormValidate = (response) => {\n    const { Description, Email, Imagem, Name } = response;\n\n    const Min = 3;\n\n    const DescriptionTest = Description.length > Min;\n    const EmailTest = Email.length > Min;\n    const ImagemTest = Imagem.length > Min;\n    const NameTest = Name.length > Min;\n\n    const validations = DescriptionTest && EmailTest && ImagemTest && NameTest;\n\n    this.setState({ ButtonDisable: !validations });\n  };\n\n  handleSubmit = async (event) => {\n    event.preventDefault();\n    const { Description, Email, Imagem, Name } = this.state;\n    const { history } = this.props;\n    const response = { description: Description,\n      email: Email,\n      image: Imagem,\n      name: Name };\n    await updateUser(response);\n    history.push('/profile');\n  };\n\n  render() {\n    const {\n      Description,\n      Email,\n      Imagem,\n      Name,\n      isLoading,\n      ButtonDisable,\n    } = this.state;\n    return (\n      <section>\n        <Header />\n        {isLoading ? <LoadingLogin /> : (\n          <div data-testid=\"page-profile-edit\">\n            <form>\n            <img\n               className='ImagemProfile'\n                data-testid=\"profile-image\"\n                src={ Imagem }\n                alt={ Name }\n              />\n            <section className='ProfileEditContent'>\n              <section className='FormProfileContent'>\n                <section className='NameForm'>\n              <label>\n                Nome:\n                <input\n                  className='InputName'\n                  name=\"Name\"\n                  id=\"profile-edit-input-name\"\n                  type=\"text\"\n                  value={ Name }\n                  onChange={ this.handleChange }\n                  data-testid=\"edit-input-name\"\n                />\n              </label>\n              </section>\n                <section className='EmailForm'>\n              <label>\n                Email:\n                <input\n                className='InputEmail'\n                  name=\"Email\"\n                  id=\"profile-edit-input-email\"\n                  type=\"text\"\n                  value={ Email }\n                  onChange={ this.handleChange }\n                  data-testid=\"edit-input-email\"\n                />\n              </label>\n              </section>\n                <section className='DescriptionForm'>\n              <label>\n                Descrição:\n                <textarea\n                  maxLength='60'\n                  className='InputDescription'\n                  name=\"Description\"\n                  id=\"profile-edit-input-description\"\n                  type=\"text\"\n                  value={ Description }\n                  onChange={ this.handleChange }\n                  data-testid=\"edit-input-description\"\n                />\n              </label>\n              </section>\n            <section className='FotoButton'>\n              <section className='ImagemForm'>\n              <label>\n                Foto:\n                <input\n                  className='InputImagem'\n                  name=\"Imagem\"\n                  id=\"profile-edit-input-image\"\n                  type=\"text\"\n                  value={ Imagem }\n                  onChange={ this.handleChange }\n                  data-testid=\"edit-input-image\"\n                />\n              </label>\n              </section>\n              <section className='ButtonForm'>\n              <button\n                className='InputButton'\n                disabled={ ButtonDisable }\n                data-testid=\"edit-button-save\"\n                type=\"submit\"\n                onClick={ this.handleSubmit }\n              >\n                Salvar\n\n              </button>\n              </section>\n              </section>\n              </section>\n              </section>\n            </form>\n          </div>)}\n      </section>\n    );\n  }\n}\n\nProfileEdit.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n};\n\nexport default ProfileEdit;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{Redirect}from'react-router-dom';import{createUser}from'../services/userAPI';import LoadingLogin from'../components/LoadingLogin';import'../style/Login.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);_this=_super.call(this);_this.handleChange=function(_ref){var target=_ref.target;var min=3;_this.setState(_defineProperty({},target.name,target.value));if(target.value.length>=min){_this.setState({DisableButton:false});}else{_this.setState({DisableButton:true});}};_this.RedirectSearch=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var InputName;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:InputName=_this.state.InputName;_this.setState({isLoading:false});_context.next=4;return createUser({name:InputName});case 4:_this.setState({isLoading:true,OutroEstado:true});case 5:case\"end\":return _context.stop();}},_callee);}));_this.state={InputName:'',isLoading:true,OutroEstado:false,DisableButton:true};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this$state=this.state,InputName=_this$state.InputName,DisableButton=_this$state.DisableButton,isLoading=_this$state.isLoading,OutroEstado=_this$state.OutroEstado;return/*#__PURE__*/_jsxs(\"div\",{\"data-testid\":\"page-login\",className:\"LoginImage\",children:[!isLoading?/*#__PURE__*/_jsx(LoadingLogin,{}):/*#__PURE__*/_jsx(\"section\",{className:\"Login\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"LoginContentMain\",children:[/*#__PURE__*/_jsx(\"img\",{src:'https://i.imgur.com/UnkuC4Y.png',className:\"imageLogin\",alt:\"logo\"}),/*#__PURE__*/_jsxs(\"section\",{className:\"LoginContent\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"InputName\",\"data-testid\":\"login-name-input\",value:InputName,onChange:this.handleChange,className:\"TextLogin\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",\"data-testid\":\"login-submit-button\",disabled:DisableButton,onClick:this.RedirectSearch,className:\"ButtonLogin\",children:\"Entrar\"})]})]})}),OutroEstado&&/*#__PURE__*/_jsx(Redirect,{to:\"/search\"})]});}}]);return Login;}(React.Component);export default Login;","map":{"version":3,"names":["React","Redirect","createUser","LoadingLogin","Login","handleChange","target","min","setState","name","value","length","DisableButton","RedirectSearch","InputName","state","isLoading","OutroEstado","Component"],"sources":["/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/src/pages/Login.js"],"sourcesContent":["import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { createUser } from '../services/userAPI';\nimport LoadingLogin from '../components/LoadingLogin';\nimport '../style/Login.css';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      InputName: '',\n      isLoading: true,\n      OutroEstado: false,\n      DisableButton: true,\n    };\n  }\n\n  handleChange = ({ target }) => {\n    const min = 3;\n    this.setState({ [target.name]: target.value });\n    if (target.value.length >= min) {\n      this.setState({ DisableButton: false });\n    } else {\n      this.setState({ DisableButton: true });\n    }\n  };\n\n  RedirectSearch = async () => {\n    const { InputName } = this.state;\n    this.setState({ isLoading: false });\n    await createUser({ name: InputName });\n    this.setState({ isLoading: true, OutroEstado: true });\n  };\n\n  render() {\n    const { InputName, DisableButton, isLoading, OutroEstado } = this.state;\n    return (\n      <div data-testid=\"page-login\" className='LoginImage'>\n        {\n          !isLoading\n            ? <LoadingLogin /> : (\n           <section className='Login'>  \n            <section className='LoginContentMain'>\n              <img src={'https://i.imgur.com/UnkuC4Y.png'} className='imageLogin' alt='logo' />\n              <section className='LoginContent'>\n                <input\n                  type=\"text\"\n                  name=\"InputName\"\n                  data-testid=\"login-name-input\"\n                  value={ InputName }\n                  onChange={ this.handleChange }\n                  className='TextLogin'\n                />\n                <button\n                  type=\"button\"\n                  data-testid=\"login-submit-button\"\n                  disabled={ DisableButton }\n                  onClick={ this.RedirectSearch }\n                  className=\"ButtonLogin\"\n                >\n                  Entrar\n                </button>\n                </section>\n              </section>\n              </section> )\n        }\n        {\n          OutroEstado && <Redirect to=\"/search\" />\n        }\n      </div>\n    );\n  }\n}\n\nexport default Login;\n"],"mappings":"8gCAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,OAASC,UAAU,KAAQ,qBAAqB,CAChD,MAAOC,aAAY,KAAM,4BAA4B,CACrD,MAAO,oBAAoB,CAAC,2FAEtBC,MAAK,0GACT,gBAAc,uCACZ,wBAAQ,MASVC,YAAY,CAAG,cAAgB,IAAbC,OAAM,MAANA,MAAM,CACtB,GAAMC,IAAG,CAAG,CAAC,CACb,MAAKC,QAAQ,oBAAIF,MAAM,CAACG,IAAI,CAAGH,MAAM,CAACI,KAAK,EAAG,CAC9C,GAAIJ,MAAM,CAACI,KAAK,CAACC,MAAM,EAAIJ,GAAG,CAAE,CAC9B,MAAKC,QAAQ,CAAC,CAAEI,aAAa,CAAE,KAAM,CAAC,CAAC,CACzC,CAAC,IAAM,CACL,MAAKJ,QAAQ,CAAC,CAAEI,aAAa,CAAE,IAAK,CAAC,CAAC,CACxC,CACF,CAAC,OAEDC,cAAc,wEAAG,kJACPC,SAAS,CAAK,MAAKC,KAAK,CAAxBD,SAAS,CACjB,MAAKN,QAAQ,CAAC,CAAEQ,SAAS,CAAE,KAAM,CAAC,CAAC,CAAC,sBAC9Bd,WAAU,CAAC,CAAEO,IAAI,CAAEK,SAAU,CAAC,CAAC,QACrC,MAAKN,QAAQ,CAAC,CAAEQ,SAAS,CAAE,IAAI,CAAEC,WAAW,CAAE,IAAK,CAAC,CAAC,CAAC,qDACvD,GAvBC,MAAKF,KAAK,CAAG,CACXD,SAAS,CAAE,EAAE,CACbE,SAAS,CAAE,IAAI,CACfC,WAAW,CAAE,KAAK,CAClBL,aAAa,CAAE,IACjB,CAAC,CAAC,aACJ,CAAC,wCAmBD,iBAAS,CACP,gBAA6D,IAAI,CAACG,KAAK,CAA/DD,SAAS,aAATA,SAAS,CAAEF,aAAa,aAAbA,aAAa,CAAEI,SAAS,aAATA,SAAS,CAAEC,WAAW,aAAXA,WAAW,CACxD,mBACE,aAAK,cAAY,YAAY,CAAC,SAAS,CAAC,YAAY,WAEhD,CAACD,SAAS,cACN,KAAC,YAAY,IAAG,cACnB,gBAAS,SAAS,CAAC,OAAO,uBACzB,iBAAS,SAAS,CAAC,kBAAkB,wBACnC,YAAK,GAAG,CAAE,iCAAkC,CAAC,SAAS,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,EAAG,cACjF,iBAAS,SAAS,CAAC,cAAc,wBAC/B,cACE,IAAI,CAAC,MAAM,CACX,IAAI,CAAC,WAAW,CAChB,cAAY,kBAAkB,CAC9B,KAAK,CAAGF,SAAW,CACnB,QAAQ,CAAG,IAAI,CAACT,YAAc,CAC9B,SAAS,CAAC,WAAW,EACrB,cACF,eACE,IAAI,CAAC,QAAQ,CACb,cAAY,qBAAqB,CACjC,QAAQ,CAAGO,aAAe,CAC1B,OAAO,CAAG,IAAI,CAACC,cAAgB,CAC/B,SAAS,CAAC,aAAa,UACxB,QAED,EAAS,GACC,GACF,EACE,CAGhBI,WAAW,eAAI,KAAC,QAAQ,EAAC,EAAE,CAAC,SAAS,EAAG,GAEtC,CAEV,CAAC,mBAjEiBjB,KAAK,CAACkB,SAAS,EAoEnC,cAAed,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"const USER_KEY = 'user';\nconst TIMEOUT = 1500;\nconst SUCCESS_STATUS = 'OK';\nconst readUser = () => JSON.parse(localStorage.getItem(USER_KEY));\nconst saveUser = user => localStorage.setItem(USER_KEY, JSON.stringify(user));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso mais futuramente\n// --------------------------------------------------------------------\n\nconst simulateRequest = response => callback => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\nexport const getUser = () => new Promise(resolve => {\n  let user = readUser();\n  if (user === null) {\n    user = {};\n  }\n  simulateRequest(user)(resolve);\n});\nexport const createUser = user => new Promise(resolve => {\n  const emptyUser = {\n    name: '',\n    email: '',\n    image: '',\n    description: ''\n  };\n  saveUser({\n    ...emptyUser,\n    ...user\n  });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\nexport const updateUser = updatedUser => new Promise(resolve => {\n  saveUser({\n    ...updatedUser\n  });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});","map":{"version":3,"names":["USER_KEY","TIMEOUT","SUCCESS_STATUS","readUser","JSON","parse","localStorage","getItem","saveUser","user","setItem","stringify","simulateRequest","response","callback","setTimeout","getUser","Promise","resolve","createUser","emptyUser","name","email","image","description","updateUser","updatedUser"],"sources":["/Users/ruan/Desktop/Trybe/projetos/sd-029-a-project-trybetunes/src/services/userAPI.js"],"sourcesContent":["const USER_KEY = 'user';\nconst TIMEOUT = 1500;\nconst SUCCESS_STATUS = 'OK';\n\nconst readUser = () => JSON.parse(localStorage.getItem(USER_KEY));\nconst saveUser = (user) => localStorage.setItem(USER_KEY, JSON.stringify(user));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso mais futuramente\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getUser = () => new Promise((resolve) => {\n  let user = readUser();\n  if (user === null) {\n    user = {};\n  }\n  simulateRequest(user)(resolve);\n});\n\nexport const createUser = (user) => new Promise((resolve) => {\n  const emptyUser = {\n    name: '',\n    email: '',\n    image: '',\n    description: '',\n  };\n  saveUser({ ...emptyUser, ...user });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const updateUser = (updatedUser) => new Promise((resolve) => {\n  saveUser({ ...updatedUser });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,MAAM;AACvB,MAAMC,OAAO,GAAG,IAAI;AACpB,MAAMC,cAAc,GAAG,IAAI;AAE3B,MAAMC,QAAQ,GAAG,MAAMC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAACP,QAAQ,CAAC,CAAC;AACjE,MAAMQ,QAAQ,GAAIC,IAAI,IAAKH,YAAY,CAACI,OAAO,CAACV,QAAQ,EAAEI,IAAI,CAACO,SAAS,CAACF,IAAI,CAAC,CAAC;;AAE/E;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMG,eAAe,GAAIC,QAAQ,IAAMC,QAAQ,IAAK;EAClDC,UAAU,CAAC,MAAM;IACfD,QAAQ,CAACD,QAAQ,CAAC;EACpB,CAAC,EAAEZ,OAAO,CAAC;AACb,CAAC;AAED,OAAO,MAAMe,OAAO,GAAG,MAAM,IAAIC,OAAO,CAAEC,OAAO,IAAK;EACpD,IAAIT,IAAI,GAAGN,QAAQ,EAAE;EACrB,IAAIM,IAAI,KAAK,IAAI,EAAE;IACjBA,IAAI,GAAG,CAAC,CAAC;EACX;EACAG,eAAe,CAACH,IAAI,CAAC,CAACS,OAAO,CAAC;AAChC,CAAC,CAAC;AAEF,OAAO,MAAMC,UAAU,GAAIV,IAAI,IAAK,IAAIQ,OAAO,CAAEC,OAAO,IAAK;EAC3D,MAAME,SAAS,GAAG;IAChBC,IAAI,EAAE,EAAE;IACRC,KAAK,EAAE,EAAE;IACTC,KAAK,EAAE,EAAE;IACTC,WAAW,EAAE;EACf,CAAC;EACDhB,QAAQ,CAAC;IAAE,GAAGY,SAAS;IAAE,GAAGX;EAAK,CAAC,CAAC;EACnCG,eAAe,CAACV,cAAc,CAAC,CAACgB,OAAO,CAAC;AAC1C,CAAC,CAAC;AAEF,OAAO,MAAMO,UAAU,GAAIC,WAAW,IAAK,IAAIT,OAAO,CAAEC,OAAO,IAAK;EAClEV,QAAQ,CAAC;IAAE,GAAGkB;EAAY,CAAC,CAAC;EAC5Bd,eAAe,CAACV,cAAc,CAAC,CAACgB,OAAO,CAAC;AAC1C,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}